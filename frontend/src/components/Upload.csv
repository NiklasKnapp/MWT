<template>
  <div>
    <input type="file" ref="fileInput" @change="onFileChange" />
    <button @click="uploadFile">Upload</button>
    <select v-model="selectedHeader">
      <option v-for="header in headers" :key="header">{{ header }}</option>
    </select>
    <button @click="trainModel">Train Model</button>
    <div v-if="rSquared !== null">
      R-squared Score: {{ rSquared }}
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      file: null,
      headers: [],
      selectedHeader: null,
      rSquared: null,
    };
  },
  methods: {
    onFileChange(e) {
      this.file = e.target.files[0];
    },
    uploadFile() {
      const formData = new FormData();
      formData.append('file', this.file);

      axios.post('https://symmetrical-invention-rpv679657qx2pwgq-5000.app.github.dev/:5000/upload', formData)
        .then(response => {
          // Handle the response from the server
          console.log(response.data);
        })
        .catch(error => {
          // Handle errors
          console.error('Error uploading file:', error);
        });
    },
    trainModel() {
      // Use axios or another library to make a POST request to the backend
      // with the selected header and get the R-squared score
    },
  },
};
</script>